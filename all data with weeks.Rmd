---
title: "nicer data"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(RCurl)
library(tidyverse)
library(lubridate)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r}
data1<-getURL("https://raw.githubusercontent.com/ST47S-CompStats-Fall2019/team-shows/master/cleaned_data/Bachelor_2018.csv?token=ALH3QRQ2ZODAH6DDWGMOHNS6AGIHW")
bachelor_2018<-read.csv(text=data1)
data2<-getURL("https://raw.githubusercontent.com/ST47S-CompStats-Fall2019/team-shows/master/cleaned_data/Bachelor_2019.csv?token=ALH3QRU2W7PDOK3LVXU2JRC6AGIKK")
bachelor_2019<-read.csv(text=data2)
data3<-getURL("https://raw.githubusercontent.com/ST47S-CompStats-Fall2019/team-shows/master/cleaned_data/Bachelorette_2018.csv?token=ANC7WXQXPACIYOKZ6I66XOS6AG3QU")
bachelorette_2018<-read.csv(text=data3)
#bachelorette_2018 <- data.frame(bachelorette_2018)
data4<-getURL("https://raw.githubusercontent.com/ST47S-CompStats-Fall2019/team-shows/master/cleaned_data/Bachelorette_2019.csv?token=ANC7WXVD4C7W56CCNTRVRD26AG3SC")
bachelorette_2019<-read.csv(text=data4)
```

```{r}
bachelor_2018<-separate(bachelor_2018, date, into = c("day", "month", "date", "time1", "time2", "year"), sep = " ", remove = TRUE, convert = FALSE, extra = "warn", fill = "warn")
bachelor_2018$month[which(bachelor_2018$month == "Dec")] = "12"
bachelor_2018$month[which(bachelor_2018$month == "Jan")] = "01"
bachelor_2018$month[which(bachelor_2018$month == "Feb")] = "02"
bachelor_2018$month[which(bachelor_2018$month == "Mar")] = "03"
bachelor_2018 <- bachelor_2018 %>%
  select(month, date, year, polarity, state, text)
form.dates <- ymd(paste(bachelor_2018$year, bachelor_2018$month, bachelor_2018$date, sep = "-"))
bachelor_2018$date<-form.dates
bachelor_2018$month<-NULL
bachelor_2018$year<-NULL

bachelor_2018<-bachelor_2018 %>%
  mutate(Weeks = case_when(
    between(date, "2017-12-09", "2017-12-31") ~ "pre-show",
    between(date, "2018-01-01", "2018-01-07") ~ "week 1",
    between(date, "2018-01-08", "2018-01-14") ~ "week 2",
    between(date, "2018-01-15", "2018-01-21") ~ "week 3",
    between(date, "2018-01-22", "2018-01-28") ~ "week 4",
    between(date, "2018-01-29", "2018-02-04") ~ "week 5",
    between(date, "2018-02-05", "2018-02-11") ~ "week 6",
    between(date, "2018-02-12", "2018-02-18") ~ "week 7",
    between(date, "2018-02-19", "2018-02-25") ~ "week 8",
    between(date, "2018-02-26", "2018-03-04") ~ "week 9",
    between(date, "2018-03-05", "2018-03-14") ~ "week 10"
  ))

write.csv(bachelor_2018, file = "bachelor_2018.csv")



```


```{r}
bachelor_2019<-separate(bachelor_2019, date, into = c("day", "month", "date", "time1", "time2", "year"), sep = " ", remove = TRUE, convert = FALSE, extra = "warn", fill = "warn")
bachelor_2019$month[which(bachelor_2019$month == "Dec")] = "12"
bachelor_2019$month[which(bachelor_2019$month == "Jan")] = "01"
bachelor_2019$month[which(bachelor_2019$month == "Feb")] = "02"
bachelor_2019$month[which(bachelor_2019$month == "Mar")] = "03"
bachelor_2019 <- bachelor_2019 %>%
  select(month, date, year, polarity, state, text)
form.dates <- ymd(paste(bachelor_2019$year, bachelor_2019$month, bachelor_2019$date, sep = "-"))
bachelor_2019$date<-form.dates
bachelor_2019$month<-NULL
bachelor_2019$year<-NULL

bachelor_2019 <- bachelor_2019 %>%
  mutate(Weeks = case_when(
    between(date, "2018-12-06", "2019-01-06") ~ "pre-show",
    between(date, "2019-01-07", "2019-01-13") ~ "week 1",
    between(date, "2019-01-14", "2019-01-20") ~ "week 2",
    between(date, "2019-01-21", "2019-01-27") ~ "week 3",
    between(date, "2019-01-28", "2019-02-03") ~ "week 4",
    between(date, "2019-02-04", "2019-02-10") ~ "week 5",
    between(date, "2019-02-11", "2019-02-17") ~ "week 6",
    between(date, "2019-02-18", "2019-02-24") ~ "week 7",
    between(date, "2019-02-25", "2019-03-03") ~ "week 8",
    between(date, "2019-03-04", "2019-03-11") ~ "week 9",
    between(date, "2019-03-12", "2019-03-18") ~ "week 10"
  ))

write.csv(bachelor_2019, file = "bachelor_2019.csv")

#season announced, dec 06 - jan 6
#week 1, jan 7-jan 13
#week 2, jan 14-jan 20
#week 3, jan 21-jan 27
#week 4, jan 28-feb 3
#week 5, feb 4-feb 10
#week 6, feb 11-feb 17
#week 7, feb 18-feb 24
#week 8, feb 25-mar 3
#week 9, mar 4 - mar 11
#week 10, mar 12-mar 18


```
```{r}
bachelorette_2018<-separate(bachelorette_2018, date, into = c("day", "month", "date", "time1", "time2", "year"), sep = " ", remove = TRUE, convert = FALSE, extra = "warn", fill = "warn")
bachelorette_2018$month[which(bachelorette_2018$month == "May")] = "05"
bachelorette_2018$month[which(bachelorette_2018$month == "Jun")] = "06"
bachelorette_2018$month[which(bachelorette_2018$month == "Jul")] = "07"
bachelorette_2018$month[which(bachelorette_2018$month == "Aug")] = "08"
bachelorette_2018 <- bachelorette_2018 %>%
  select(month, date, year, polarity, state, text)
form.dates <- ymd(paste(bachelorette_2018$year, bachelorette_2018$month, bachelorette_2018$date, sep = "-"))
bachelorette_2018$date<-form.dates
bachelorette_2018$month<-NULL
bachelorette_2018$year<-NULL

bachelorette_2018<-bachelorette_2018 %>%
  mutate(Weeks = case_when(
    between(date, "2018-05-17", "2018-05-27") ~ "pre-show",
    between(date, "2018-05-28", "2018-06-03") ~ "week 1",
    between(date, "2018-06-04", "2018-06-10") ~ "week 2",
    between(date, "2018-06-11", "2018-06-17") ~ "week 3",
    between(date, "2018-06-18", "2018-06-24") ~ "week 4",
    between(date, "2018-06-25", "2018-07-01") ~ "week 5",
    between(date, "2018-07-02", "2018-07-08") ~ "week 6",
    between(date, "2018-07-09", "2018-07-15") ~ "week 7",
    between(date, "2018-07-16", "2018-07-22") ~ "week 8",
    between(date, "2018-07-23", "2018-08-05") ~ "week 9",
    between(date, "2018-08-06", "2018-08-09") ~ "week 10"
  ))

write.csv(bachelorette_2018, file = "bachelorette_2018.csv")

```


```{r}
bachelorette_2019<-separate(bachelorette_2019, date, into = c("day", "month", "date", "time1", "time2", "year"), sep = " ", remove = TRUE, convert = FALSE, extra = "warn", fill = "warn")
bachelorette_2019$month[which(bachelorette_2019$month == "May")] = "05"
bachelorette_2019$month[which(bachelorette_2019$month == "Jun")] = "06"
bachelorette_2019$month[which(bachelorette_2019$month == "Jul")] = "07"
bachelorette_2019$month[which(bachelorette_2019$month == "Aug")] = "08"
bachelorette_2019 <- bachelorette_2019 %>%
  select(month, date, year, polarity, state, text)
form.dates <- ymd(paste(bachelorette_2019$year, bachelorette_2019$month, bachelorette_2019$date, sep = "-"))
bachelorette_2019$date<-form.dates
bachelorette_2019$month<-NULL
bachelorette_2019$year<-NULL

bachelorette_2019<-bachelorette_2019 %>%
  mutate(Weeks = case_when(
    between(date, "2019-05-07", "2019-05-12") ~ "pre-show",
    between(date, "2019-05-13", "2019-05-19") ~ "week 1",
    between(date, "2019-05-20", "2019-05-26") ~ "week 2",
    between(date, "2019-05-27", "2019-06-02") ~ "week 3",
    between(date, "2019-06-03", "2019-06-10") ~ "week 4",
    between(date, "2019-06-11", "2019-06-23") ~ "week 5",
    between(date, "2019-06-24", "2019-06-30") ~ "week 6",
    between(date, "2019-07-01", "2019-07-07") ~ "week 7",
    between(date, "2019-07-08", "2019-07-14") ~ "week 8",
    between(date, "2019-07-15", "2019-07-28") ~ "week 9",
    between(date, "2019-07-29", "2019-08-07") ~ "week 10"
  ))

write.csv(bachelorette_2019, file = "bachelorette_2019.csv")

```
















